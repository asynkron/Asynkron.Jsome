using System.ComponentModel.DataAnnotations;
{{#if UseSystemTextJson}}
using System.Text.Json.Serialization;
{{else}}
using Newtonsoft.Json;
{{/if}}
{{#if UseSwashbuckleAttributes}}
using Swashbuckle.AspNetCore.Annotations;
{{/if}}

namespace {{Namespace}};

/// <summary>
/// {{Description}}
/// </summary>
{{#if UseSystemTextJson}}
[method: JsonConstructor]
{{/if}}
{{#if UseSwashbuckleAttributes}}
{{#if Description}}
[SwaggerSchema(Description = "{{Description}}")]
{{/if}}
{{/if}}
public partial record {{ClassName}}(
{{#each Properties}}
    /// <summary>
{{#if Description}}    /// {{Description}}
{{/if}}{{#if EnumTypeName}}    /// Uses enum type: <see cref="{{EnumTypeName}}"/>
{{/if}}{{#if ConstantsClassName}}    /// Allowed values defined in: <see cref="{{ConstantsClassName}}"/>
{{/if}}{{#if EnumValues}}    /// Allowed values: {{#each EnumValues}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}
{{/if}}    /// </summary>
    {{#if JsonPropertyName}}
    {{#if UseSystemTextJson}}
    [property: JsonPropertyName("{{JsonPropertyName}}")]
    {{else}}
    [JsonProperty("{{JsonPropertyName}}")]
    {{/if}}
    {{/if}}
    {{#if UseSystemTextJson}}
    {{#if IsRequired}}
    [property: JsonIgnore(Condition = JsonIgnoreCondition.Never)]
    {{else}}
    [property: JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingDefault)]
    {{/if}}
    {{/if}}
    {{#if IsRequired}}
    {{#unless UseRequiredKeyword}}
    {{#if UseEnhancedValidation}}
    [property: Required(AllowEmptyStrings = false)]
    {{else}}
    {{#if UseSystemTextJson}}
    [property: Required]
    {{else}}
    [Required]
    {{/if}}
    {{/if}}
    {{/unless}}
    {{/if}}
    {{#if UseEnhancedValidation}}
    {{#if HasStringLength}}
    [property: StringLength({{#if MaxLength}}{{MaxLength}}{{else}}int.MaxValue{{/if}}{{#if MinLength}}, MinimumLength = {{MinLength}}{{/if}})]
    {{/if}}
    {{else}}
    {{#if MaxLength}}
    {{#if UseSystemTextJson}}
    [property: MaxLength({{MaxLength}})]
    {{else}}
    [MaxLength({{MaxLength}})]
    {{/if}}
    {{/if}}
    {{#if MinLength}}
    {{#if UseSystemTextJson}}
    [property: MinLength({{MinLength}})]
    {{else}}
    [MinLength({{MinLength}})]
    {{/if}}
    {{/if}}
    {{/if}}
    {{#if UseSwashbuckleAttributes}}
    {{#if SwaggerSchemaDescription}}
    {{#if UseSystemTextJson}}
    [property: SwaggerSchema(Description = "{{SwaggerSchemaDescription}}"{{#if SwaggerFormat}}, Format = "{{SwaggerFormat}}"{{/if}})]
    {{else}}
    [SwaggerSchema(Description = "{{SwaggerSchemaDescription}}"{{#if SwaggerFormat}}, Format = "{{SwaggerFormat}}"{{/if}})]
    {{/if}}
    {{else}}
    {{#if SwaggerFormat}}
    {{#if UseSystemTextJson}}
    [property: SwaggerSchema(Format = "{{SwaggerFormat}}")]
    {{else}}
    [SwaggerSchema(Format = "{{SwaggerFormat}}")]
    {{/if}}
    {{/if}}
    {{/if}}
    {{#if SwaggerExample}}
    {{#if UseSystemTextJson}}
    [property: SwaggerExampleValue({{{SwaggerExample}}})]
    {{else}}
    [SwaggerExampleValue({{{SwaggerExample}}})]
    {{/if}}
    {{/if}}
    {{/if}}
    {{#if UseRequiredKeyword}}required {{/if}}{{{Type}}} {{Name}}{{#if DefaultValue}} = {{DefaultValue}}{{/if}}{{#unless @last}},{{/unless}}
{{/each}}
);